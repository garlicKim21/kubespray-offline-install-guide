# Kubespray 버전별 업그레이드 노트

이 디렉토리에는 Kubespray 버전 간 업그레이드 시 주의사항과 변경사항이 정리되어 있습니다.

## 업그레이드 노트 목록

| 업그레이드 경로 | Kubernetes 버전 | 문서 |
|----------------|-----------------|------|
| 2.28.x → 2.29.x | 1.32.x → 1.33.x | [2.28-to-2.29.md](2.28-to-2.29.md) |

## 사용 방법

1. 업그레이드 전 해당 버전의 노트를 확인합니다.
2. **Breaking Changes** 섹션을 주의 깊게 검토합니다.
3. custom-config.yml에서 변경이 필요한 항목을 수정합니다.
4. 새로 추가된 바이너리/이미지가 있다면 파일 서버에 추가합니다.
5. 사전 검증 플레이북으로 리소스를 확인합니다. (아래 참조)

## 사전 검증 도구

업그레이드 전 오프라인 리소스가 준비되었는지 확인할 수 있습니다:

```bash
# 기본 실행
ansible-playbook playbooks/verify-offline-resources.yml

# Kubernetes 버전 지정
ansible-playbook playbooks/verify-offline-resources.yml \
  -e kube_version=<target_version>
```

이 플레이북은 localhost에서 실행되며, 파일 서버, 레지스트리, 필수 바이너리/이미지를 검증합니다.
(`-i` 인벤토리 옵션 불필요)

## 노트 작성 규칙

각 업그레이드 노트는 다음 섹션을 포함합니다:

- **개요**: 업그레이드 요약
- **Breaking Changes**: 호환성을 깨는 변경사항
- **변수 변경사항**: 추가/제거/변경된 변수
- **새로운 기능**: 새로 추가된 기능
- **버전 업데이트**: 컴포넌트 버전 변경
- **오프라인 환경 주의사항**: 파일 서버/레지스트리 업데이트 필요 항목

